# Инструкции по развертыванию

## Сервер на Render.com

Ваш сервер уже развернут на: `https://mafia-c6a2.onrender.com`

### Настройка переменных окружения на Render

В настройках вашего сервиса на Render добавьте переменные окружения (если нужно):

```
PORT=5000
ALLOWED_ORIGINS=https://hardcorechessorg.github.io,http://localhost:3000
```

### Важные замечания для Render

1. **WebSocket поддержка**: Render поддерживает WebSocket, но может потребоваться некоторое время для "пробуждения" сервиса при первом подключении после периода неактивности (free tier).

2. **CORS**: Сервер настроен для работы с вашим клиентом на GitHub Pages.

## Клиент на GitHub Pages

Ваш клиент находится на: `https://hardcorechessorg.github.io/-/`

### Как обновить клиент на GitHub Pages

1. Соберите production версию клиента:
```bash
cd client
npm install
npm run build
```

2. Содержимое папки `client/build` нужно загрузить в репозиторий GitHub Pages.

3. Убедитесь, что файл `client/src/config.js` настроен на production URL сервера:
```javascript
const SERVER_URL = 'https://mafia-c6a2.onrender.com';
```

### Альтернативный способ (GitHub Actions)

Можно настроить автоматическое развертывание через GitHub Actions, который будет автоматически собирать и развертывать приложение при каждом коммите.

## Локальная разработка

Для локальной разработки создайте файл `client/.env`:

```
REACT_APP_SERVER_URL=http://localhost:5000
```

Затем запустите:
```bash
# Сервер
npm run server

# Клиент (в другом терминале)
cd client
npm start
```

## Проверка подключения

1. Откройте клиент на GitHub Pages
2. Попробуйте создать комнату как ведущий
3. Проверьте консоль браузера на наличие ошибок подключения

Если возникают проблемы с подключением, проверьте:
- CORS настройки на сервере
- Доступность сервера Render
- Сетевые настройки браузера

